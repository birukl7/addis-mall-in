import{R as f,r as u,j as l}from"./app-7LEC8ZM0.js";var O={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},w=f.createContext&&f.createContext(O),N=["attr","size","title"];function S(e,t){if(e==null)return{};var r=E(e,t),a,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)a=o[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function E(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},g.apply(this,arguments)}function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j(Object(r),!0).forEach(function(a){y(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function y(e,t,r){return t=z(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z(e){var t=L(e,"string");return typeof t=="symbol"?t:t+""}function L(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function C(e){return e&&e.map((t,r)=>f.createElement(t.tag,p({key:r},t.attr),C(t.child)))}function P(e){return t=>f.createElement($,g({attr:p({},e.attr)},t),C(e.child))}function $(e){var t=r=>{var{attr:a,size:s,title:o}=e,m=S(e,N),i=s||r.size||"1em",c;return r.className&&(c=r.className),e.className&&(c=(c?c+" ":"")+e.className),f.createElement("svg",g({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,a,m,{className:c,style:p(p({color:e.color||r.color},r.style),e.style),height:i,width:i,xmlns:"http://www.w3.org/2000/svg"}),o&&f.createElement("title",null,o),e.children)};return w!==void 0?f.createElement(w.Consumer,null,r=>t(r)):t(O)}function _(e){return P({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16.293 9.293 12 13.586 7.707 9.293l-1.414 1.414L12 16.414l5.707-5.707z"},child:[]}]})(e)}function D(e){return P({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0 0 11.6 0l43.6-43.5a8.2 8.2 0 0 0 0-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"},child:[]}]})(e)}const B=({title:e,api:t,url:r})=>{const[a,s]=u.useState(null),[o,m]=u.useState(""),[i,c]=u.useState(""),[h,d]=u.useState(!1);return u.useEffect(()=>{fetch(`${r}/api/${t}`).then(n=>n.json()).then(n=>{s(n)})},[t]),l.jsxs("div",{className:"flex flex-col gap-y-3",children:[l.jsx("span",{children:e}),l.jsxs("div",{className:"relative font-medium h-8 ",children:[l.jsxs("div",{onClick:()=>d(!h),className:`bg-white w-full p-2 flex items-center justify-between rounded-full ring-1 ring-gray-300 focus:ring-gray-400 px-3 cursor-pointer ${!i&&"text-gray-700"}`,children:[i?i.length>25?i.substring(0,25)+"...":i:`Select ${e}`,l.jsx(_,{size:20,className:`${h&&"rotate-180"}`})]}),l.jsxs("ul",{className:`bg-white mt-2 overflow-y-auto relative w-full left-0 z-40 transition-max-height duration-300 ${h?"max-h-60":"max-h-0"}`,style:{position:"absolute"},children:[l.jsxs("div",{className:"flex items-center px-2 sticky top-0 bg-white",children:[l.jsx(D,{size:18,className:"text-gray-700"}),l.jsx("input",{type:"text",value:o,onChange:n=>m(n.target.value.toLowerCase()),placeholder:`Enter ${e}`,className:"placeholder:text-gray-700 p-2 outline-none w-full ring-gray-300 focus:ring-0 ring-0 border-0 text-xs"})]}),a==null?void 0:a.map(n=>{var v,b;return l.jsx("li",{className:`p-2 text-sm hover:bg-sky-600 hover:text-white cursor-pointer ${((v=n==null?void 0:n.name)==null?void 0:v.toLowerCase())===(i==null?void 0:i.toLowerCase())&&"bg-sky-600 text-white"} ${(b=n==null?void 0:n.name)!=null&&b.toLowerCase().startsWith(o)?"block":"hidden"}`,onClick:()=>{var x;((x=n==null?void 0:n.name)==null?void 0:x.toLowerCase())!==i.toLowerCase()&&(c(n==null?void 0:n.name),d(!1),m(""))},children:n==null?void 0:n.name},n==null?void 0:n.name)})]})]})]})};export{B as S};
