import{R as f,r as u,j as l}from"./app-CrwSGshG.js";var j={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},x=f.createContext&&f.createContext(j),P=["attr","size","title"];function N(e,t){if(e==null)return{};var r=S(e,t),a,i;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)a=c[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function S(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},g.apply(this,arguments)}function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w(Object(r),!0).forEach(function(a){E(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function E(e,t,r){return t=y(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e){var t=z(e,"string");return typeof t=="symbol"?t:t+""}function z(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function O(e){return e&&e.map((t,r)=>f.createElement(t.tag,p({key:r},t.attr),O(t.child)))}function C(e){return t=>f.createElement(L,g({attr:p({},e.attr)},t),O(e.child))}function L(e){var t=r=>{var{attr:a,size:i,title:c}=e,s=N(e,P),m=i||r.size||"1em",o;return r.className&&(o=r.className),e.className&&(o=(o?o+" ":"")+e.className),f.createElement("svg",g({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,a,s,{className:o,style:p(p({color:e.color||r.color},r.style),e.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),c&&f.createElement("title",null,c),e.children)};return x!==void 0?f.createElement(x.Consumer,null,r=>t(r)):t(j)}function _(e){return C({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16.293 9.293 12 13.586 7.707 9.293l-1.414 1.414L12 16.414l5.707-5.707z"},child:[]}]})(e)}function $(e){return C({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0 0 11.6 0l43.6-43.5a8.2 8.2 0 0 0 0-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"},child:[]}]})(e)}const I=({title:e,api:t})=>{const[r,a]=u.useState(null),[i,c]=u.useState(""),[s,m]=u.useState(""),[o,h]=u.useState(!1);return u.useEffect(()=>{fetch(`http://127.0.0.1:8000/api/${t}`).then(n=>n.json()).then(n=>{a(n)})},[t]),l.jsxs("div",{className:"flex flex-col gap-y-3",children:[l.jsx("span",{children:e}),l.jsxs("div",{className:"relative font-medium h-8 ",children:[l.jsxs("div",{onClick:()=>h(!o),className:`bg-white w-full p-2 flex items-center justify-between rounded-full ring-1 ring-gray-300 focus:ring-gray-400 px-3 cursor-pointer ${!s&&"text-gray-700"}`,children:[s?s.length>25?s.substring(0,25)+"...":s:`Select ${e}`,l.jsx(_,{size:20,className:`${o&&"rotate-180"}`})]}),l.jsxs("ul",{className:`bg-white mt-2 overflow-y-auto relative w-full left-0 z-40 transition-max-height duration-300 ${o?"max-h-60":"max-h-0"}`,style:{position:"absolute"},children:[l.jsxs("div",{className:"flex items-center px-2 sticky top-0 bg-white",children:[l.jsx($,{size:18,className:"text-gray-700"}),l.jsx("input",{type:"text",value:i,onChange:n=>c(n.target.value.toLowerCase()),placeholder:`Enter ${e}`,className:"placeholder:text-gray-700 p-2 outline-none w-full ring-gray-300 focus:ring-0 ring-0 border-0 text-xs"})]}),r==null?void 0:r.map(n=>{var d,v;return l.jsx("li",{className:`p-2 text-sm hover:bg-sky-600 hover:text-white cursor-pointer ${((d=n==null?void 0:n.name)==null?void 0:d.toLowerCase())===(s==null?void 0:s.toLowerCase())&&"bg-sky-600 text-white"} ${(v=n==null?void 0:n.name)!=null&&v.toLowerCase().startsWith(i)?"block":"hidden"}`,onClick:()=>{var b;((b=n==null?void 0:n.name)==null?void 0:b.toLowerCase())!==s.toLowerCase()&&(m(n==null?void 0:n.name),h(!1),c(""))},children:n==null?void 0:n.name},n==null?void 0:n.name)})]})]})]})};export{I as S};
